// متن دعاها — اینجا متن کامل را جایگزین کن
const DUAS = {
  tawassul: {
    title: "دعاى توسل",
    text: `اللَّهُمَّ إِنِّي أَسْأَلُكَ بِحَقِّ مُحَمَّدٍ وَآلِهِ
(متن نمونه — متن کامل را اینجا بگذارید)`
  },
  ahd: {
    title: "دعای عهد",
    text: `اَللّهُمَّ رَبَّ النُّورِ الْعَظيمِ، وَرَبَّ الْکرْسِىِّ الرَّفيعِ، وَرَبَّ الْبَحْرِ الْمَسْجُورِ، وَمُنْزِلَ التَّوْراةِ وَالْأِنْجيلِ وَالزَّبُورِ، وَرَبَّ الظِّلِّ وَالْحَرُورِ، وَمُنْزِلَ الْقُرْآنِ الْعَظيمِ، وَرَبَّ الْمَلائِکةِ الْمُقَرَّبينَ وَالْأَنْبِيآءِ وَالْمُرْسَلينَ، اَللّهُمَّ اِنّى‏ اَسْئَلُک بِوَجْهِک الْکريمِ، وَبِنُورِ وَجْهِک‏ الْمُنيرِ، وَمُلْکک الْقَديمِ، يا حَىُّ يا قَيومُ، اَسْئَلُک بِاسْمِک الَّذى‏ اَشْرَقَتْ‏ بِهِ السَّمواتُ وَالْأَرَضُونَ، وَبِاسْمِک الَّذى‏ يصْلَحُ بِهِ الْأَوَّلُونَ‏ وَالْأخِرُونَ، يا حَياً قَبْلَ کلِّ حَىٍّ وَيا حَياً بَعْدَ کلِّ حَىٍّ، وَيا حَياً حينَ لا حَىَّ ،يا مُحْيىَ الْمَوْتى‏ وَمُميتَ الْأَحْيآءِ، يا حَىُّ لا اِلهَ اِلاَّ اَنْتَ، 1

اَللّهُمَ‏ بَلِّغْ مَوْلانَا الْإِمامَ الْهادِىَ الْمَهْدِىَّ الْقآئِمَ بِاَمْرِک، صَلَواتُ اللَّهِ عَلَيهِ و عَلى‏ ابآئِهِ الطَّاهِرينَ، عَنْ جَميعِ الْمُؤْمِنينَ وَالْمُؤْمِناتِ فى‏ مَشارِقِ‏ الْأَرْضِ وَمَغارِبِها، سَهْلِها وَجَبَلِها وَبَرِّها وَبَحْرِها، وَعَنّى‏ وَعَنْ‏ والِدَىَّ مِنَ الصَّلَواتِ زِنَةَ عَرْشِ اللَّهِ، وَمِدادَ کلِماتِهِ، وَما اَحْصاهُ‏ عِلْمُهُ وَاَحاطَ بِهِ کتابُهُ، اَللّهُمَّ اِنّى‏ اُجَدِّدُ لَهُ فى‏ صَبيحَةِ يوْمى‏ هذا وَما عِشْتُ مِنْ اَيامى‏، عَهْداً وَعَقْداً وَبَيعَةً لَهُ فى‏ عُنُقى‏، لا اَحُولُ‏ عَنْها وَلا اَزُولُ اَبَداً، 2

اَللّهُمَّ اجْعَلْنى‏ مِنْ اَنْصارِهِ وَاَعْوانِهِ، وَالذَّابّينَ‏ عَنْهُ، وَالْمُسارِعينَ اِلَيهِ فى‏ قَضآءِ حَوآئِجِهِ، وَالْمُمْتَثِلينَ لِأَوامِرِهِ، وَالْمُحامينَ عَنْهُ، وَالسَّابِقينَ اِلى‏ اِرادَتِهِ وَالْمُسْتَشْهَدينَ بَينَ يدَيهِ، اَللّهُمَّ اِنْ حالَ بَينى‏ وَبَينَهُ الْمَوْتُ الَّذى‏ جَعَلْتَهُ عَلى‏ عِبادِک حَتْماً مَقْضِياً، فَاَخْرِجْنى‏ مِنْ قَبْرى‏ مُؤْتَزِراً کفَنى‏، شاهِراً سَيفى‏، مُجَرِّداً قَناتى‏، مُلَبِّياً دَعْوَةَ الدَّاعى‏ فِى الْحاضِرِ وَالْبادى‏، اَللّهُمَّ اَرِنىِ‏ الطَّلْعَةَ الرَّشيدَةَ، وَالْغُرَّةَ الْحَميدَةَ، وَاکحَلْ ناظِرى‏ بِنَظْرَةٍ منِّى‏ اِلَيهِ، وَعَجِّلْ فَرَجَهُ، وَسَهِّلْ مَخْرَجَهُ، وَاَوْسِعْ مَنْهَجَهُ، وَاسْلُک بى‏ مَحَجَّتَهُ‏ وَاَنْفِذْ اَمْرَهُ، وَاشْدُدْ اَزْرَهُ، 3

وَاعْمُرِ اللّهُمَّ بِهِ بِلادَک، وَاَحْىِ بِهِ عِبادَک، فَاِنَّک قُلْتَ وَقَوْلُک الْحَقُّ، ظَهَرَ الْفَسادُ فِى الْبَرِّ وَالْبَحْرِ بِما کسَبَتْ‏ اَيدِى النَّاسِ، فَاَظْهِرِ الّلهُمَّ لَنا وَلِيک وَابْنَ بِنْتِ نَبِيک الْمُسَمّى‏ بِاسْمِ‏ رَسُولِک، حَتّى‏ لا يظْفَرَ بِشَىْ‏ءٍ مِنَ الْباطِلِ اِلاَّ مَزَّقَهُ، وَيحِقَّ الْحَقَ‏ وَيحَقِّقَهُ، وَاجْعَلْهُ اَللّهُمَّ مَفْزَعاً لِمَظْلُومِ عِبادِک، وَناصِراً لِمَنْ لا يجِدُ لَهُ ناصِراً غَيرَک، وَمُجَدِّداً لِما عُطِّلَ مِنْ اَحْکامِ کتابِک، وَمُشَيداً لِما وَرَدَ مِنْ اَعْلامِ دينِک، وَسُنَنِ نَبِيک صَلَّى اللَّهُ عَلَيهِ وَآلِهِ، وَاجْعَلْهُ‏ اَللّهُمَّ مِمَّنْ حَصَّنْتَهُ مِن بَاْسِ الْمُعْتَدينَ 4

اَللّهُمَّ وَسُرَّ نَبِيک مُحَمَّداً صَلَّى اللَّهُ عَلَيهِ وَآلِهِ بِرُؤْيتِهِ، وَمَنْ تَبِعَهُ عَلى‏ دَعْوَتِهِ، وَارْحَمِ اسْتِکانَتَنا بَعْدَهُ، اَللّهُمَّ اکشِفْ هذِهِ الْغُمَّةَ عَنْ هذِهِ الْأُمَّةِ بِحُضُورِهِ، وَعَجِّلْ لَنا ظُهُورَهُ، اِنَّهُمْ يرَوْنَهُ بَعيداً وَنَريهُ قَريباً بِرَحْمَتِک يا اَرْحَمَ الرَّاحِمينَ. 5

پس سه مرتبه دست بر ران راست خود بزنید و در هر مرتبه‏ بگویید:
«اَلْعَجَلَ الْعَجَلَ يا مَوْلاىَ يا صــاحِبَ الزَّمــانِ» 6`
  },
  ziyara: {
    title: "زیارت عاشورا",
    text: `اَلسَّلامُ عَلَیْكَ یا اَباعَبْدِاللهِ...
(متن نمونه — متن کامل را اینجا بگذارید)`
  }
};

// انتخاب عناصر DOM
const modal = document.getElementById('duaModal');
const backdrop = document.getElementById('duaBackdrop');
const duaContent = document.getElementById('duaContent');
const duaTitle = document.getElementById('duaTitle');
const closeBtn = document.getElementById('closeDua');

// باز کردن پنل با کلیک روی دکمه‌ها
document.querySelectorAll('.dua-btn').forEach(btn => {
  btn.addEventListener('click', () => {
    const key = btn.dataset.dua;
    const dua = DUAS[key];
    if (!dua) return;
    duaTitle.textContent = dua.title;
    duaContent.textContent = dua.text;
    openModal();
  });
});

// تابع برای باز کردن پنل
function openModal() {
  modal.style.display = 'block';
  modal.setAttribute('aria-hidden', 'false');
  // فوکوس برای دسترسی
  setTimeout(() => duaContent.focus(), 120);
}

// تابع برای بستن پنل
function closeModal() {
  modal.style.display = 'none';
  modal.setAttribute('aria-hidden', 'true');
}

// بستن پنل با کلیک روی پس‌زمینه
backdrop.addEventListener('click', closeModal);

// بستن پنل با کلیک روی دکمه بستن
closeBtn.addEventListener('click', closeModal);

// بستن پنل با کلید Escape
document.addEventListener('keydown', (e) => {
  if (e.key === 'Escape') closeModal();
});
